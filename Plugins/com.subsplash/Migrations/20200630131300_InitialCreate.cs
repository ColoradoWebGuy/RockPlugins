// <copyright>
// MIT License
//
// Copyright( c) 2020 Subsplash

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software. 

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.
// </copyright>
//
namespace com.subsplash.Migrations
{
    using Rock.Plugin;
    using System.Data.Entity.Migrations;
    [MigrationNumber(1, "1.10.2")]
    public partial class InitialCreate : Rock.Plugin.Migration
    {
        public override void Up()
        {

            // Create the field type
            RockMigrationHelper.UpdateFieldType( "Subsplash Action Handler", "", "com.subsplash", "com.subsplash.FieldTypes.SubsplashActionHandlerFieldType", "CAF77EF5-1F55-4A64-838D-CDB11C1655F5" );


            RockMigrationHelper.AddDefinedType( "Global", "Subsplash Webhook", "Custom Webhook for Subsplash requests to process Lava in response to incoming requests.", "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", @"" );
            RockMigrationHelper.AddDefinedTypeAttribute( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "27718256-C1EB-4B1F-9B4B-AC53249F78DF", "Template", "Template", "The lava script to use when processing this request.", 1241, "", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398" );
            RockMigrationHelper.AddDefinedTypeAttribute( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "4BD9088F-5CC6-89B1-45FC-A2AAFFC7CC0D", "Enabled Lava Commands", "EnabledLavaCommands", "Which lava commands are available to be used by the lava template", 1242, "", "E04BD964-E89A-4EE1-A080-B6C34AFDF966" );
            RockMigrationHelper.AddDefinedTypeAttribute( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "73B02051-0D38-4AD9-BF81-A2D477DE4F70", "Response Headers", "ResponseHeaders", "", 1244, "", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB" );
            RockMigrationHelper.AddDefinedTypeAttribute( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "7525C4CB-EE6B-41D4-9B64-A08048D5A5C0", "Method", "Method", "", 1240, "GET", "990524DB-79CF-45B0-A264-DCD693640612" );
            RockMigrationHelper.AddDefinedTypeAttribute( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "9C204CD0-1233-41C5-818A-C5DA439445AA", "Response Content Type", "ResponseContentType", "The Content-Type header to include in the response. If no value is provided then 'text/plain' is used. Common values are 'application/json' and 'application/xml'.", 1243, "application/json", "AB5B436A-5953-4B38-8A91-1E08583EE96C" );
            RockMigrationHelper.AddAttributeQualifier( "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", "editorHeight", "300", "CCA3BDBC-3BF5-405D-85FA-4F64F51F5E97" );
            RockMigrationHelper.AddAttributeQualifier( "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", "editorMode", "3", "9A23B4F7-0922-48C0-91CE-BB7BA044D5C8" );
            RockMigrationHelper.AddAttributeQualifier( "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", "editorTheme", "0", "5FF44C8E-4700-4210-9D16-3F3E3266F254" );
            RockMigrationHelper.AddAttributeQualifier( "990524DB-79CF-45B0-A264-DCD693640612", "fieldtype", "ddl", "E0DCF6C5-1511-4A6C-AC7D-D0D52719A6B5" );
            RockMigrationHelper.AddAttributeQualifier( "990524DB-79CF-45B0-A264-DCD693640612", "repeatColumns", "", "9A38638A-6442-46A8-B293-90E72FB45153" );
            RockMigrationHelper.AddAttributeQualifier( "990524DB-79CF-45B0-A264-DCD693640612", "values", "GET,POST,PUT,PATCH,DELETE", "05E0C3C1-652D-4CB2-95ED-422BD181618B" );
            RockMigrationHelper.AddAttributeQualifier( "AB5B436A-5953-4B38-8A91-1E08583EE96C", "ispassword", "False", "5E9BCD63-567E-4644-AF17-2926A5739361" );
            RockMigrationHelper.AddAttributeQualifier( "AB5B436A-5953-4B38-8A91-1E08583EE96C", "maxcharacters", "", "C5344BB0-6C16-4F19-A4A2-8A4597E49416" );
            RockMigrationHelper.AddAttributeQualifier( "AB5B436A-5953-4B38-8A91-1E08583EE96C", "showcountdown", "False", "414F4B1E-A8A2-4140-B5AC-383D12408C9D" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "allowhtml", "False", "2DBB2F8B-C5CF-4FC2-B163-AE21D401DB03" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "customvalues", "", "B5705B82-11C1-458F-A6CA-15994E03F138" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "definedtype", "", "1D07E6C2-F20F-48A4-9A7E-5D4955A7CCF9" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "displayvaluefirst", "False", "DF60FD5D-4566-4A64-83E1-15BF31ED38D1" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "keyprompt", "Name", "8C922BDB-F914-4230-92BF-02B7D84BEF58" );
            RockMigrationHelper.AddAttributeQualifier( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", "valueprompt", "Value", "DCADAEB8-2628-473C-AAEE-8F73BC97D903" );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/list/{slug}", "Displays all of the items in a Subsplash Content Channel list", "E0B80372-62A8-44F9-AAB4-4DF4E7683338", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/sermon/{id}", "The sermon details page for playing a single sermon.", "76C44D8E-A016-416D-9E64-D049D92A3DE4", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/sermons/{page}", "Fetch all of our sermon series for the SubSplash app", "6DEFA30D-3354-4212-B56D-730C07F6A11E", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/sermons/series/{series}", "Fetch all the sermons in a specific series for the SubSplash app.", "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/tvapp", "Main endpoint for Apple TV/Roku app home screen", "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/tvapp/home/{Guid}", "Display the featured items for the Apple TV/Roku app", "D8D86584-E0E0-497C-BE61-B35DD5A590DA", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/tvapp/series/{series}", "Display sermon series for Apple TV/Roku app", "760A15FB-2FB2-41C1-A27E-58D74B265F07", false );
            RockMigrationHelper.UpdateDefinedValue( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1", "/tvapp/sermon/{id}", "Display sermon details for Apple TV/Roku app", "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A", false );
            RockMigrationHelper.AddDefinedValueAttributeValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{%- cache key:''subsplash-tvapp-home'' duration:''60'' -%} {     {% contentchannelitem where:''ContentChannelId == 74'' sort:''Order'' %}     {%- assign itemCount = contentchannelitemItems | Size -%}     {%- assign nowDateTime = ''Now'' | Date:''yyyyMMddHHmmss'' -%}     {%- if itemCount > 0 -%}     ""header"": {         ""title"":""Home"",         ""style"":""featured"",         ""sapid"":""home"",         ""items"": [             {%- assign num = 0 -%}             {%- assign comma = """" -%}             {% for item in contentchannelitemItems %}                 {%- assign startDateTime = item.StartDateTime | Date:''yyyyMMddHHmmss'' -%}                 {%- assign endDateTime = item.ExpireDateTime | Date:''yyyyMMddHHmmss'' | Default:''99999999999999'' -%}                 {%- if startDateTime <= nowDateTime and nowDateTime <= endDateTime -%}                 {{ comma }}                 {                     ""images"":[                         { ""width"":720, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{item | Attribute:''Image'',''RawValue''}}.jpg?guid={{item | Attribute:''Image'',''RawValue''}}&width=720"" }                     ],                     ""title"": ""{{- item.Title | Replace:''""'',''\""'' -}}"",                     ""subtitle"": ""{{- item | Attribute:''Subtitle'' | Replace:''""'',''\""'' -}}"",                     ""actions"": [{                         ""handler"": ""detail"",                         ""url"": ""https://www.southeastchristian.org/webhooks/Subsplash.ashx/tvapp/home/{{ item.Guid }}""                     }]                 }                 {%- assign num = num | Plus:1 -%}                 {%- assign comma = "","" -%}                 {%- endif -%}             {%- endfor -%}             {%- if num == 0 -%}                 {%- comment -%}                 *** if no items are to show, then just show the latest sermon.                 {%- endcomment -%}                 {%- contentchannelitem where:''ContentChannelId == 24'' sort:''StartDateTime desc'' limit:''1''  -%}                     {%- assign comma = """" -%}                     {%- assign mostRecentSermon = contentchannelitemItems | First -%}                     {%- for seriesChild in mostRecentSermon.ChildItems reversed -%}                         {%- assign sermon = seriesChild.ChildContentChannelItem -%}                         {%- if sermon.ContentChannelId == ""23"" -%}                             {{ comma }}                             {                                 ""images"":[                                     { ""width"":720, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=720"" },                                     { ""width"":1080, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1080"" },                                     { ""width"":1920, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1920"" }                                 ],                                 ""title"": ""Recent Sermon"",                                 ""subtitle"": ""{{sermon.Title | Replace:''""'',''\""''}} - {{ sermon.Content | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"",                                 ""actions"": [{                                     ""handler"": ""detail"",                                     ""url"": ""https://www.southeastchristian.org/webhooks/Subsplash.ashx/tvapp/sermon/{{sermon.Id}}""                                 }]                             }                             {%- break -%}                         {%- endif -%}                     {%- endfor -%}                 {% endcontentchannelitem -%}             {%- endif -%}         ]     },     {%- endif -%}     {% endcontentchannelitem %}     {% comment %}     ""header"": {         ""title"": ""Recent Sermons"",         ""style"": ""featured"",         ""sapid"": ""home"",         ""items"": [             {%- contentchannelitem where:''ContentChannelId == 24'' sort:''StartDateTime desc'' limit:''1''  -%}                 {%- assign comma = """" -%}                 {%- assign mostRecentSermon = contentchannelitemItems | First -%}                 {%- for seriesChild in mostRecentSermon.ChildItems reversed -%}                     {%- assign sermon = seriesChild.ChildContentChannelItem -%}                     {%- if sermon.ContentChannelId == ""23"" -%}                         {{ comma }}                         {                             ""images"":[                                 { ""width"":720, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=720"" },                                 { ""width"":1080, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1080"" },                                 { ""width"":1920, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1920"" }                             ],                             ""title"": ""Recent Sermon"",                             ""subtitle"": ""{{sermon.Title | Replace:''""'',''\""''}} - {{ sermon.Content | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"",                             ""actions"": [{                                 ""handler"": ""detail"",                                 ""url"": ""https://www.southeastchristian.org/webhooks/Subsplash.ashx/tvapp/sermon/{{sermon.Id}}""                             }]                         }                         {%- break -%}                     {%- endif -%}                 {%- endfor -%}             {% endcontentchannelitem -%}         ]     },{% endcomment %}  {%- assign comma = """" -%} {%- contentchannelitem where:''ContentChannelId == 24'' sort:''StartDateTime desc'' offset:''{{offset}}'' limit:''120''  -%}  ""items"": [         {%- assign nowDateTime = ''Now'' | Date:''yyyyMMddHHmmss'' -%}         {%- for item in contentchannelitemItems -%}         {%- assign startDateTime = item.StartDateTime | Date:''yyyyMMddHHmmss'' -%}         {%- assign endDateTime = item.ExpireDateTime | Date:''yyyyMMddHHmmss'' | Default:''99999999999999'' -%}   {%- if startDateTime <= nowDateTime and nowDateTime <= endDateTime -%}         {{comma}}         {             ""images"":[                 {%- assign seriesImageGuid = item | Attribute:''Image'', ''RawValue'' -%}                 {%- if seriesImageGuid != empty -%}                     { ""width"":720, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{item | Attribute:''Image'', ''RawValue''}}.jpg?guid={{item | Attribute:''Image'', ''RawValue''}}&width=720"" },                     { ""width"":1080, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{item | Attribute:''Image'', ''RawValue''}}.jpg?guid={{item | Attribute:''Image'', ''RawValue''}}&width=1080"" },                     { ""width"":1920, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{item | Attribute:''Image'', ''RawValue''}}.jpg?guid={{item | Attribute:''Image'', ''RawValue''}}&width=1920"" }                 {%- else -%}      {%- for child in item.ChildItems -%}       {%- assign seriesImage = child.ChildContentChannelItem | Attribute:''Image'' -%}       {%- assign seriesImageGuid = child.ChildContentChannelItem | Attribute:''Image'',''RawValue'' -%}       {%- if seriesImage != empty -%}                         { ""width"":720, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=720"" },                         { ""width"":1080, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=1080"" },                         { ""width"":1920, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=1920"" }        {%- break -%}       {%- endif %}      {%- endfor -%}     {%- endif -%}       ],    ""position"": ""{{forloop.index}}"",    ""title"": ""{{item.Title | Replace:''""'',''\""''}}"",    ""subtitle"": ""{{ item.Content  | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode | StripHtml  }}"",    ""actions"": [{     ""handler"": ""list"",     ""url"": ""https://www.southeastchristian.org/webhooks/Subsplash.ashx/tvapp/series/{{item.Id}}""    }]   }   {%- assign comma = "","" -%}         {%- endif -%}         {%- endfor -%}     ] {% endcontentchannelitem -%} } {% endcache %} " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^no-cache|Pragma^no-cache" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{  ""header"": {   ""title"": ""Sermons""  },  ""displayOptions"":{   ""style"":""stacked"",   ""contentWidthRatio"":1.0,      ""itemDisplayOptions"":{    ""indicatorAspectRatio"":1.696,    ""indicatorShadowEnabled"":true,          ""maxWidth"":1400,          ""textPosition"": ""none""      },   ""colors"":{          ""brand"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },    ""theme"":{              ""primary"":""#121212"",     ""block"":""#262626"",              ""blockAccent"":""#262626"",              ""secondaryAccent"":""#FFFFFF"",              ""primaryAccent"":""#FFFFFF""          },          ""topBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""bottomBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""brandableElements"":""{{colors:brand}}""      }  },  {%- if page != empty -%}      {%- assign pageNumber = page -%}  {%- endif -%}  {%- assign offset = pageNumber | Minus:1 | Times: 120 -%}  {%- assign nowDateTime = ''Now'' | Date:''yyyyMMddHHmmss'' -%}  {%- contentchannelitem where:''Status == 2 && ContentChannelId == 24'' sort:''StartDateTime desc'' offset:''{{offset}}'' limit:''120''  -%}   ""items"": [    {%- assign comma = """" -%}          {%- for item in contentchannelitemItems -%}    {%- assign startDateTime = item.StartDateTime | Date:''yyyyMMddHHmmss'' -%}             {%- assign endDateTime = item.ExpireDateTime | Date:''yyyyMMddHHmmss'' | Default:''99999999999999'' -%}             {%- if startDateTime <= nowDateTime and nowDateTime <= endDateTime -%}           {{ comma }}     {%- assign itemActionHandler = ""list"" -%}     {%- assign itemActionUrl = ''Global'' | Attribute:''MobileApplicationRoot'' | Append:""webhooks/SubSplash.ashx/sermons/series/"" | Append:item.Id -%}     {%- assign resourcesCount = 0 -%}     {%- assign itemChildItems = item.ChildItems | Sort:''Order'' -%}     {%- for messages in itemChildItems -%}      {%- assign message = messages.ChildContentChannelItem -%}      {%- if message.ContentChannelId != ""23"" -%}       {%- assign resourcesCount = resourcesCount | Plus:1 -%}      {%- endif -%}     {%- endfor -%}     {%- if resourcesCount != 0 -%}     {%- assign itemActionHandler = ""subtabs"" -%}     {%- assign itemActionUrl = ''Global'' | Attribute:''MobileApplicationRoot'' | Append:""webhooks/SubSplash.ashx/tabs/series/"" | Append:item.Id -%}     {%- endif -%}           {      ""title"": ""{{item.Title | Replace:''""'',''\""''}}"",      ""subtitle"": ""{{ item.Content  | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode  }}"",               ""images"":[       {%- assign seriesImageGuid = item | Attribute:''Image'', ''RawValue'' -%}       {%- if seriesImageGuid != empty -%}        { ""width"":748, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=628&height=353&mode=crop&s.roundcorners=20,20,0,0&bgcolor=121212&format=png&margin=60,87,60,0&anchor=topcenter""  }       {%- else -%}        {%- for child in item.ChildItems -%}        {%- assign seriesImage = child.ChildContentChannelItem | Attribute:''Image'' -%}        {%- assign seriesImageGuid = child.ChildContentChannelItem | Attribute:''Image'',''RawValue'' -%}        {%- if seriesImage != empty -%}        { ""width"":748, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=628&height=353&mode=crop&s.roundcorners=20,20,0,0&bgcolor=121212&format=png&margin=60,87,60,0&anchor=topcenter""  }        {%- break -%}        {%- endif %}        {%- endfor -%}       {%- endif -%}         ],      ""actions"": [{       ""handler"": ""{{- itemActionHandler -}}"",                {%- if itemActionHandler == ""subtabs"" -%}""type"": ""navigation"",{%- endif -%}       ""url"": ""{{- itemActionUrl -}}""      }]     },     {               ""images"":[          { ""width"":748, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}webhooks/ImageGenerator.ashx/sermon/halfcard/{{item.Guid | Upcase}}""  }         ],      ""actions"": [{       ""handler"": ""{{- itemActionHandler -}}"",                {%- if itemActionHandler == ""subtabs"" -%}""type"": ""navigation"",{%- endif -%}       ""url"": ""{{- itemActionUrl -}}""      }]     }     {%- assign comma = "","" -%}    {%- endif -%}          {%- endfor -%}      ]  {%- endcontentchannelitem -%} } " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^max-age=1800%2C public" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "760A15FB-2FB2-41C1-A27E-58D74B265F07", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{%- cache key:''subsplash-tvapp-series-{{series}}'' duration:''0'' -%} {%- contentchannelitem where:''ContentChannelId == 24 && Id == {{series}}'' sort:''StartDateTime desc''  -%} {%- assign nowDateTime = ''Now'' | Date:''yyyyMMddHHmmss'' -%} {%- for series in contentchannelitemItems -%} {%- assign seriesImageGuid = sermon | Attribute:''Image'', ''RawValue'' -%} {%- unless seriesImageGuid == empty -%}  {%- for child in sermon.ChildItems -%}   {%- assign seriesImage = child.ChildContentChannelItem | Attribute:''Image'' -%}   {%- assign seriesImageGuid = child.ChildContentChannelItem | Attribute:''Image'',''RawValue'' -%}   {%- if seriesImage != empty -%}    {%- break -%}   {%- endif %}  {%- endfor -%} {%- endunless -%} {  ""header"": {   ""title"": ""{{series.Title | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"",   ""style"": ""banner"",   ""items"": [{    ""images"":[                 { ""width"":1920, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{seriesImageGuid}}.jpg?guid={{seriesImageGuid}}&width=1920"" }       ]   }]  },  ""sapid"":""{{series.Guid}}"",     ""items"": [         {%- assign comma = """" -%}         {%- for seriesChild in series.ChildItems -%}         {%- assign sermon = seriesChild.ChildContentChannelItem -%}   {%- assign startDateTime = sermon.StartDateTime | Date:''yyyyMMddHHmmss'' -%}   {%- assign endDateTime = sermon.ExpireDateTime | Date:''yyyyMMddHHmmss'' | Default:''99999999999999'' -%}   {%- if startDateTime <= nowDateTime and nowDateTime <= endDateTime -%}          {%- if sermon.ContentChannelId == ""23"" -%}          {{ comma }}          {              ""images"":[      { ""width"":308, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=308"" }              ],     ""title"": ""{{sermon.Title | Replace:''""'',''\""''}}"",     ""subtitle"": ""{{ sermon.Content | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"",     ""actions"": [{      ""handler"": ""detail"",      ""url"": ""https://www.southeastchristian.org/webhooks/Subsplash.ashx/tvapp/sermon/{{sermon.Id}}""     }]    }          {%- assign comma = "","" -%}          {%- endif -%}   {%- endif %}         {%- endfor -%}     ] } {%- endfor -%} {% endcontentchannelitem -%} {%- endcache -%} " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "760A15FB-2FB2-41C1-A27E-58D74B265F07", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "760A15FB-2FB2-41C1-A27E-58D74B265F07", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "760A15FB-2FB2-41C1-A27E-58D74B265F07", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{%- cache key:''subsplash-sermon-{{id}}'' duration:''3600'' -%} {%- contentchannelitem where:''ContentChannelId == 23 && Id == {{id}}'' sort:''StartDateTime desc''  -%} {%- for sermon in contentchannelitemItems -%} {%- comment -%}  Grabbing the parent series for URL sharing {%- endcomment -%} {%- contentchannelitemassociation where:''ChildContentChannelItemId == {{id}}'' -%}  {%- assign item = contentchannelitemassociationItems | First -%}  {%- assign seriesId = item.ContentChannelItemId -%}  {%- contentchannelitem where:''ContentChannelId == 24 && Id == {{seriesId}}'' -%}   {%- assign series = contentchannelitemItems | First -%}  {%- endcontentchannelitem -%} {%- endcontentchannelitemassociation -%} {  ""header"": {   ""title"": ""{{sermon.Title | Replace:''""'',''\""''}}""  },  ""actionSheet"":{   ""items"":[    {     ""actions"":[{      ""handler"":""defaultShare"",      ""body"":""Check this out! {{series.Title | Replace:''""'',''\""''}} | {{sermon.Title | Replace:''""'',''\""''}}"",      ""url"":""{{ ''Global'' | Attribute:''PublicApplicationRoot'' }}sermons/{{series.PrimarySlug}}/{{sermon.PrimarySlug}}""     }]    },    {     ""actions"":[{      ""handler"":""htmlShare"",      ""body"":""<html>Check this out! <a href=''{{ ''Global'' | Attribute:''PublicApplicationRoot'' }}sermons/{{series.PrimarySlug}}/{{sermon.PrimarySlug}}''><b>{{series.Title | Replace:''""'',''\""''}} | {{sermon.Title | Replace:''""'',''\""''}}</b></a>.</html>""     }]    }   ]  },  ""media"": [      {       ""url"":""{{sermon | Attribute:''VimeoDownloadUrl''}}"",             ""format"":""mp4"",       ""downloadable"":false,       ""images"":[        { ""width"":520, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=720""},        { ""width"":1080, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1080""},        { ""width"":1280, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1280""},        { ""width"":1920, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1920""}       ]         },   {    ""url"":""https://www.southeastchristian.org/GetFile.ashx/{{message.ChildContentChannelItem | Attribute:''Audio'', ''RawValue''}}.mp3?guid={{sermon | Attribute:''Audio'', ''RawValue''}}"",    ""format"":""mp3"",    ""downloadable"":""true"",       ""images"":[        { ""width"":520, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=720""},        { ""width"":1080, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1080""},        { ""width"":1280, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1280""},        { ""width"":1920, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1920""}       ]   }],  ""title"": ""{{sermon.Title | Replace:''""'',''\""''}}"",  ""body"":""{{ sermon.Content | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"" } {%- endfor -%} {% endcontentchannelitem -%} {%- endcache -%} " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^max-age=1800%2C public" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{%- cache key:''subsplash-tvapp-{{id}}'' duration:''3600'' -%} {%- contentchannelitem where:''ContentChannelId == 23 && Id == {{id}}'' sort:''StartDateTime desc''  -%} {%- for sermon in contentchannelitemItems -%} {  ""header"": {   ""title"": ""{{sermon.Title | Replace:''""'',''\""''}}""  },  ""sapid"":""{{sermon.Guid}}"",  ""images"": [{ ""width"":1080, ""url"":""https://www.southeastchristian.org/GetImage.ashx/{{sermon | Attribute:''Image'', ''RawValue''}}.jpg?guid={{sermon | Attribute:''Image'', ''RawValue''}}&width=1080""}],  ""media"": [      {         {%- assign fullServiceUrl = sermon | Attribute:''FullServiceVideoUrl'' -%}         {%- if fullServiceUrl != """" -%}       ""url"":""{{fullServiceUrl}}"",             ""format"":""mp4""         {%- else -%}             ""url"":""{{sermon | Attribute:''VimeoDownloadUrl''}}"",             ""format"":""mp4""         {%- endif -%}         },   {    ""url"":""https://www.southeastchristian.org/GetFile.ashx/{{message.ChildContentChannelItem | Attribute:''Audio'', ''RawValue''}}.mp3?guid={{sermon | Attribute:''Audio'', ''RawValue''}}"",    ""format"":""mp3""   }],  ""title"": ""{{sermon.Title | Replace:''""'',''\""''}}"",  ""body"":""{%- if fullServiceUrl != """" -%}[{{ sermon | Attribute:''SermonStart'' | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode | Append:''] ''}}{%- endif -%}{{ sermon.Content | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode }}"" } {%- endfor -%} {% endcontentchannelitem -%} {%- endcache -%} " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{  ""header"": {   ""title"": ""Sermons""  },  ""displayOptions"":{   ""style"":""stacked"",   ""contentWidthRatio"":1.0,      ""itemDisplayOptions"":{    ""indicatorAspectRatio"":3.2,    ""indicatorShadowEnabled"":true,          ""maxWidth"":1400,          ""textPosition"": ""none""      },   ""colors"":{          ""brand"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },    ""theme"":{              ""primary"":""#121212"",     ""block"":""#262626"",              ""blockAccent"":""#262626"",              ""secondaryAccent"":""#FFFFFF"",              ""primaryAccent"":""#FFFFFF""          },          ""topBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""bottomBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""brandableElements"":""{{colors:brand}}""      }  },  {%- if page != empty -%}      {%- assign pageNumber = page -%}  {%- endif -%}  {%- assign offset = pageNumber | Minus:1 | Times: 120 -%}  {%- contentchannelitem where:''ContentChannelId == 24'' sort:''StartDateTime desc'' offset:''{{offset}}'' limit:''120''  -%}   ""items"": [          {%- for item in contentchannelitemItems -%}          {% unless forloop.first %},{% endunless %}          {     ""title"": ""{{item.Title | Replace:''""'',''\""''}}"",     ""subtitle"": ""{{ item.Content  | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode  }}"",              ""images"":[         { ""width"":400, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/{{item | Attribute:''Image'', ''RawValue''}}.jpg?guid={{item | Attribute:''Image'', ''RawValue''}}&width=400&height=75&mode=crop&s.roundcorners=80,80,0,0&bgcolor=121212&format=png&margin=40,75,40,0&anchor=topcenter""  }        ],     ""actions"": [{      ""handler"": ""subtabs"",               ""type"": ""navigation"",      ""url"": ""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}webhooks/SubSplash.ashx/tabs/series/{{item.Id}}""     }]    },    {              ""images"":[         { ""width"":400, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}GetImage.ashx/7{{item | Attribute:''Image'', ''RawValue''}}.jpg?guid={{item | Attribute:''Image'', ''RawValue''}}&width=400&height=150&mode=crop&s.roundcorners=0,0,0,0&bgcolor=121212&format=png&margin=40,0,40,0&anchor=bottomcenter""  }        ],     ""actions"": [{      ""handler"": ""subtabs"",               ""type"": ""navigation"",      ""url"": ""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}webhooks/SubSplash.ashx/tabs/series/{{item.Id}}""     }]    },    {              ""images"":[         { ""width"":480, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Content/SubSplash/ContentPart1.jpg""  }        ],     ""actions"": [{      ""handler"": ""subtabs"",               ""type"": ""navigation"",      ""url"": ""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}webhooks/SubSplash.ashx/tabs/series/{{item.Id}}""     }]    },    {              ""images"":[         { ""width"":480, ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Content/SubSplash/ContentPart2.jpg""  }        ],     ""actions"": [{      ""handler"": ""subtabs"",               ""type"": ""navigation"",      ""url"": ""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}webhooks/SubSplash.ashx/tabs/series/{{item.Id}}""     }]    }          {%- endfor -%}      ]  {%- endcontentchannelitem -%} } " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^max-age=1800%2C public" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{%- contentchannelitem where:''Guid == ""{{Guid}}""'' -%} {%- assign item = contentchannelitemItems | First - %} {%- assign subtitleSize = item | Attribute:''Subtitle'' | Size -%} {%- endcontentchannelitem -%} {  ""header"": {   ""title"": ""{{- item.Title -}}{% if subtitleSize > 0 %}: {{ item | Attribute:''Subtitle'' }}{% endif %}""  },  ""sapid"":""{{- item.Guid -}}"",  ""images"": [{ ""width"":1080, ""url"":""https://app.secc.org/GetImage.ashx/{{item | Attribute:''Image'',''RawValue''}}.jpg?guid={{item | Attribute:''Image'',''RawValue''}}&width=720""}],  ""media"": [      {       ""url"":""{{- item | Attribute:''VideoURL'',''RawValue'' -}}"",             ""format"":""{{- item | Attribute:''VideoType'' -}}""         }],  ""title"": ""{{- item.Title | Replace:''""'',''\""''  -}}{% if subtitleSize > 0 %}: {{ item | Attribute:''Subtitle'' | Replace:''""'',''\""''  }}{% endif %}"",  ""body"":""{{ item.Content  | Replace:''""'',''\""'' | UrlEncode | Replace:''%0A'','''' | UrlDecode | StripHtml }}"" } " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^no-cache|Pragma^no-cache" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"RockEntity" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338", "3FEB82E4-8CFC-4AE7-A78D-3941CD708398", @"{  ""header"": {   ""title"": ""Home""  },  ""displayOptions"":{   ""style"":""stacked"",   ""contentWidthRatio"":9.5,      ""itemDisplayOptions"":{          ""indicatorAspectRatio"":2.47407,          ""textPosition"": ""none""      },   ""colors"":{          ""brand"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""theme"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""topBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""bottomBar"":{              ""primary"":""#121212"",              ""primaryAccent"":""#FFFFFF""          },          ""brandableElements"":""{{colors:brand}}""      }  },  ""items"": [  {%- contentchannelitem Id:''2087'' -%}   {%- assign childItemsSorted = contentchannelitem.ChildItems | Sort:""Order"" -%}   {%- assign comma = """" -%}   {%- for item in childItemsSorted -%}    {%- assign nowDateTime = ''Now'' | Date:''yyyyMMddHHmmss'' -%}    {%- assign today = ''Now'' | Date:''dddd'' -%}    {%- assign streamBannerShowDays = ''Sunday'' -%}    {%- assign bulletinOneShowDays = ''Saturday|Sunday'' -%}    {%- assign bulletinTwoShowDays = ''Monday|Tuesday|Wednesday|Thursday|Friday'' -%}    {%- assign slug = item.ChildContentChannelItem.PrimarySlug -%}    {%- assign startDateTime = item.ChildContentChannelItem.StartDateTime | Date:''yyyyMMddHHmmss'' -%}    {%- assign endDateTime = item.ChildContentChannelItem.ExpireDateTime | Date:''yyyyMMddHHmmss'' | Default:''99999999999999'' -%}    {%- assign title = item.ChildContentChannelItem.Title -%}    {%- assign subtitle = item.ChildContentChannelItem | Attribute:''Subtitle'' -%}    {%- assign imageGuid = item.ChildContentChannelItem | Attribute:''Image'',''RawValue'' -%}    {%- assign actionJson = item.ChildContentChannelItem | Attribute:''Action'' -%}    {%- if slug == ""streaming-now-1"" or slug == ""bulletin-1"" or slug == ""bulletin-2"" -%}     {%- if slug == ""streaming-now-1"" and streamBannerShowDays contains today -%}      {%- comment -%} Start: Banner Item{%- endcomment -%}      {%- if Headers.sap-device-os == ''Android'' -%}       {%- assign actionJson = actionJson | Replace:''internalBrowser showTabBar'', ''browser'' -%}      {%- endif -%}      {{ comma }}      {       ""images"":[        {""width"": 668,        ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Webhooks/ImageGenerator.ashx/homeimage/{{ item.ChildContentChannelItem.Guid }}?mode=crop&s.roundcorners=20&bgcolor=121212""}        ]       {%- if actionJson != """" -%}       ,""actions"":[{        {{-actionJson-}}       }],       ""title"": ""{{ title }}"",       ""subtitle"": ""{{ subtitle }}""       {%- endif -%}      }      {%- assign comma = "","" -%}      {%- comment -%} End: Banner Item{%- endcomment -%}     {%- elseif slug == ""bulletin-1"" and bulletinOneShowDays contains today -%}      {%- comment -%} Start: Banner Item{%- endcomment -%}      {%- if Headers.sap-device-os == ''Android'' -%}       {%- assign actionJson = actionJson | Replace:''internalBrowser showTabBar'', ''browser'' -%}      {%- endif -%}      {{ comma }}      {       ""images"":[        {""width"": 668,        ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Webhooks/ImageGenerator.ashx/homeimage/{{ item.ChildContentChannelItem.Guid }}?mode=crop&s.roundcorners=20&bgcolor=121212""}        ]       {%- if actionJson != """" -%}       ,""actions"":[{        {{-actionJson-}}       }],       ""title"": ""{{ title }}"",       ""subtitle"": ""{{ subtitle }}""       {%- endif -%}      }      {%- assign comma = "","" -%}      {%- comment -%} End: Banner Item{%- endcomment -%}     {%- elseif slug == ""bulletin-2"" and bulletinTwoShowDays contains today -%}      {%- comment -%} Start: Banner Item{%- endcomment -%}      {%- if Headers.sap-device-os == ''Android'' -%}       {%- assign actionJson = actionJson | Replace:''internalBrowser showTabBar'', ''browser'' -%}      {%- endif -%}      {{ comma }}      {       ""images"":[        {""width"": 668,        ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Webhooks/ImageGenerator.ashx/homeimage/{{ item.ChildContentChannelItem.Guid }}?mode=crop&s.roundcorners=20&bgcolor=121212""}        ]       {%- if actionJson != """" -%}       ,""actions"":[{        {{-actionJson-}}       }],       ""title"": ""{{ title }}"",       ""subtitle"": ""{{ subtitle }}""       {%- endif -%}      }      {%- assign comma = "","" -%}      {%- comment -%} End: Banner Item{%- endcomment -%}     {%- endif -%}    {%- else -%}     {%- if startDateTime <= nowDateTime and nowDateTime <= endDateTime -%}      {%- comment -%} Start: Banner Item{%- endcomment -%}      {%- if Headers.sap-device-os == ''Android'' -%}       {%- assign actionJson = actionJson | Replace:''internalBrowser showTabBar'', ''browser'' -%}      {%- endif -%}      {{ comma }}      {       ""images"":[        {""width"": 668,        ""url"":""{{ ''Global'' | Attribute:''MobileApplicationRoot'' }}Webhooks/ImageGenerator.ashx/homeimage/{{ item.ChildContentChannelItem.Guid }}?mode=crop&s.roundcorners=20&bgcolor=121212""}        ]       {%- if actionJson != """" -%}       ,""actions"":[{        {{-actionJson-}}       }],       ""title"": ""{{ title }}"",       ""subtitle"": ""{{ subtitle }}""       {%- endif -%}      }      {%- assign comma = "","" -%}      {%- comment -%} End: Banner Item{%- endcomment -%}     {%- endif -%}    {%- endif -%}    {%- endfor %}  {%- endcontentchannelitem %}  ] } " );
            RockMigrationHelper.AddDefinedValueAttributeValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338", "990524DB-79CF-45B0-A264-DCD693640612", @"GET" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338", "AB5B436A-5953-4B38-8A91-1E08583EE96C", @"application/json" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338", "CB9DF27B-2F19-45EA-AA9E-30A490359AAB", @"Cache-Control^max-age=1800%2C public" );
            RockMigrationHelper.AddDefinedValueAttributeValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338", "E04BD964-E89A-4EE1-A080-B6C34AFDF966", @"Cache,RockEntity" );

            // Create the Content Channels and attributes
            string sql = @"
                INSERT INTO[dbo].[ContentChannelType]
                        ([IsSystem], [Name], [DateRangeType], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [Guid], [ForeignKey], [DisablePriority], [IncludeTime], [ForeignGuid], [ForeignId], [DisableContentField], [DisableStatus], [ShowInChannelList]) 
                    VALUES(0, N'Subsplash', 2, GETDATE(), GETDATE(), NULL, NULL, N'21481630-bcdb-4b3f-a9e0-81dbb636791f', NULL, 1, 1, NULL, NULL, 1, 0, 1)
                
                INSERT INTO[dbo].[ContentChannel]
                        ([ContentChannelTypeId], [Name], [Description], [IconCssClass], [RequiresApproval], [EnableRss], [ChannelUrl], [ItemUrl], [TimeToLive], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [Guid], [ForeignKey], [ContentControlType], [RootImageDirectory], [ForeignGuid], [ForeignId], [ItemsManuallyOrdered], [ChildItemsManuallyOrdered], [IsIndexEnabled], [IsTaggingEnabled], [ItemTagCategoryId], [IsStructuredContent], [StructuredContentToolValueId]) 
                    VALUES ((SELECT [id] FROM [ContentChannelType] WHERE [guid] = N'21481630-bcdb-4b3f-a9e0-81dbb636791f'), N'Subsplash List Element', N'', N'fa fa-stream', 0, 0, N'', N'', 0, GETDATE(), GETDATE(), NULL, NULL, N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481', NULL, 0, N'', NULL, NULL, 0, 0, 0, 0, NULL, 0, NULL)
                INSERT INTO[dbo].[ContentChannel]
                        ([ContentChannelTypeId], [Name], [Description], [IconCssClass], [RequiresApproval], [EnableRss], [ChannelUrl], [ItemUrl], [TimeToLive], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [Guid], [ForeignKey], [ContentControlType], [RootImageDirectory], [ForeignGuid], [ForeignId], [ItemsManuallyOrdered], [ChildItemsManuallyOrdered], [IsIndexEnabled], [IsTaggingEnabled], [ItemTagCategoryId], [IsStructuredContent], [StructuredContentToolValueId]) 
                    VALUES ((SELECT [id] FROM [ContentChannelType] WHERE [guid] = N'21481630-bcdb-4b3f-a9e0-81dbb636791f'), N'Subsplash List', N'', N'fa fa-bars', 0, 0, N'', N'', 0, GETDATE(), GETDATE(), NULL, NULL, N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5e', NULL, 0, N'', NULL, NULL, 0, 1, 0, 0, NULL, 0, NULL)
                INSERT INTO[dbo].[ContentChannel]
                        ([ContentChannelTypeId], [Name], [Description], [IconCssClass], [RequiresApproval], [EnableRss], [ChannelUrl], [ItemUrl], [TimeToLive], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [Guid], [ForeignKey], [ContentControlType], [RootImageDirectory], [ForeignGuid], [ForeignId], [ItemsManuallyOrdered], [ChildItemsManuallyOrdered], [IsIndexEnabled], [IsTaggingEnabled], [ItemTagCategoryId], [IsStructuredContent], [StructuredContentToolValueId]) 
                    VALUES ((SELECT [id] FROM [ContentChannelType] WHERE [guid] = N'21481630-bcdb-4b3f-a9e0-81dbb636791f'), N'Subsplash TV App Feature', N'', N'fa fa-television', 0, 0, N'', N'', 0, GETDATE(), GETDATE(), NULL, NULL, N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5f', NULL, 0, N'', NULL, NULL, 0, 1, 0, 0, NULL, 0, NULL)
                
                INSERT INTO[dbo].[ContentChannelAssociation] ([ContentChannelId], [ChildContentChannelId]) 
                    VALUES((SELECT [id] FROM [ContentChannel] WHERE [guid] = N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5e'), (SELECT [id] FROM [ContentChannel] WHERE [guid] = N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481'))
					
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.TextFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481'), N'Subtitle', N'Subtitle', N'', 1000, 0, N'', 0, 0, N'05533e03-f665-4c02-b930-3ac7457ff7ad', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Subtitle', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.ImageFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481'), N'Image', N'Image', N'', 1001, 0, NULL, 0, 0, N'5cbe4f41-b220-4c73-8871-761dc07233f7', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Image', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.TextFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481'), N'Position', N'Position', N'', 1002, 0, N'', 0, 0, N'17e8c9c9-ed47-4445-8ff4-22e5cd059957', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Position', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'com.subsplash.FieldTypes.SubsplashActionHandlerFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'cbbd8bc4-7c2f-4732-88da-8dcaa3ff3481'), N'Action', N'Action', N'', 1003, 0, N'', 0, 0, N'9980a8be-abdb-4cc8-bfd1-3ae4117aafe0', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Action', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.TextFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5f'), N'SubtitleAppleTVOnly', N'Subtitle (Apple TV Only)', N'', 1000, 0, N'', 0, 0, N'c701e397-c0b8-4a20-b3d6-d99f512243f9', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Subtitle', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.ImageFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5f'), N'Thumbnail', N'Thumbnail', N'548x309 is the recommended image thumbnail size.', 1001, 1, NULL, 0, 1, N'661be134-9f58-48aa-bc6d-3f3360d8019a', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Thumbnail', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.VideoUrlFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5f'), N'VideoURL', N'Video URL', N'', 1002, 1, N'', 0, 1, N'd3b36310-585f-4b8b-895b-50b783417781', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Video URL', 0, 0)
                INSERT INTO [dbo].[Attribute] ([IsSystem], [FieldTypeId], [EntityTypeId], [EntityTypeQualifierColumn], [EntityTypeQualifierValue], [Key], [Name], [Description], [Order], [IsGridColumn], [DefaultValue], [IsMultiValue], [IsRequired], [Guid], [CreatedDateTime], [ModifiedDateTime], [CreatedByPersonAliasId], [ModifiedByPersonAliasId], [ForeignKey], [IconCssClass], [AllowSearch], [ForeignGuid], [ForeignId], [IsIndexEnabled], [IsAnalytic], [IsAnalyticHistory], [IsActive], [EnableHistory], [PreHtml], [PostHtml], [AbbreviatedName], [ShowOnBulk], [IsPublic]) 
                    VALUES (0, (SELECT [Id] FROM [FieldType] WHERE Class = N'Rock.Field.Types.SelectSingleFieldType'), (SELECT [Id] FROM EntityType WHERE [Name] = N'Rock.Model.ContentChannelItem'), N'ContentChannelId', (SELECT cast([id] as nvarchar(max)) FROM [ContentChannel] WHERE [guid] = N'6ce9f700-3e4d-48ec-99d6-ccdf976a2f5f'), N'VideoType', N'Video Type', N'', 1003, 1, N'mp4', 0, 1, N'cb95d1a6-75b7-44c0-a1da-b46bf1e96a2f', GETDATE(), GETDATE(), NULL, NULL, NULL, N'', 0, NULL, NULL, 0, 0, 0, 1, 0, N'', N'', N'Video Type', 0, 0)

				INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'05533e03-f665-4c02-b930-3ac7457ff7ad'), N'ispassword', N'False', N'd502542e-4de4-4a51-8cd2-409ccbcc284c', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'05533e03-f665-4c02-b930-3ac7457ff7ad'), N'maxcharacters', N'', N'2fc1ddc1-aea9-4799-b605-2eca2253ea21', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'05533e03-f665-4c02-b930-3ac7457ff7ad'), N'showcountdown', N'False', N'f35e6499-3332-4df6-aad8-0f15395727bb', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'5cbe4f41-b220-4c73-8871-761dc07233f7'), N'binaryFileType', N'', N'b7ad079e-f91a-4ed4-883a-511ede805ee4', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'5cbe4f41-b220-4c73-8871-761dc07233f7'), N'formatAsLink', N'False', N'c62c5618-642a-405f-98dc-a2aeebfa500f', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'5cbe4f41-b220-4c73-8871-761dc07233f7'), N'img_tag_template', N'', N'e35168dd-569d-4b23-9e94-5c3be23ee830', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'17e8c9c9-ed47-4445-8ff4-22e5cd059957'), N'ispassword', N'False', N'30928bf8-37f3-42e1-bb85-632f2791ec8d', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'17e8c9c9-ed47-4445-8ff4-22e5cd059957'), N'maxcharacters', N'3', N'24a141c8-240d-4578-b726-e3060ce7bda6', NULL, NULL, NULL)
                INSERT INTO[dbo].[AttributeQualifier]
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES(0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'17e8c9c9-ed47-4445-8ff4-22e5cd059957'), N'showcountdown', N'False', N'ce8dc978-d5eb-4307-a757-0a9bea7c4f9a', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'c701e397-c0b8-4a20-b3d6-d99f512243f9'), N'ispassword', N'False', N'8796b21a-0ff3-4234-bef5-c27735a5b541', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'c701e397-c0b8-4a20-b3d6-d99f512243f9'), N'maxcharacters', N'', N'3f827d8d-55fd-48c8-9eb3-3902d29c1611', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'c701e397-c0b8-4a20-b3d6-d99f512243f9'), N'showcountdown', N'False', N'5cfc4555-d39e-4e23-88d5-84086717d320', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'661be134-9f58-48aa-bc6d-3f3360d8019a'), N'binaryFileType', N'6cbea3b0-e983-40c1-9712-bd3fa2466eae', N'3b494f21-4255-466d-9712-486b1b8c7cd5', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'661be134-9f58-48aa-bc6d-3f3360d8019a'), N'formatAsLink', N'False', N'd705d632-6c55-4be3-8ff1-db873200c5fa', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'661be134-9f58-48aa-bc6d-3f3360d8019a'), N'img_tag_template', N'<img src=''{{ ImageUrl }}'' class=''img-responsive'' />', N'dc04cdb4-5846-45a3-a049-4b756c9c712a', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'cb95d1a6-75b7-44c0-a1da-b46bf1e96a2f'), N'values', N'mp4,m3u8', N'e0ad7504-517e-4c1f-87c0-9a9b9528d06e', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'cb95d1a6-75b7-44c0-a1da-b46bf1e96a2f'), N'fieldtype', N'ddl', N'e4d74f04-356e-4a69-93ae-ed50e5b7e73a', NULL, NULL, NULL)
                INSERT INTO [dbo].[AttributeQualifier] 
                        ([IsSystem], [AttributeId], [Key], [Value], [Guid], [ForeignKey], [ForeignGuid], [ForeignId]) 
                    VALUES (0, (SELECT [id] FROM [Attribute] WHERE [guid] = N'cb95d1a6-75b7-44c0-a1da-b46bf1e96a2f'), N'repeatColumns', N'', N'bf01e9e9-118d-4724-94c8-f5a4b07d3564', NULL, NULL, NULL)";
            Sql( sql );

            // Create all the plugin pages now
            // Page: Subsplash              
            RockMigrationHelper.AddPage("5B6DBC42-8B03-4D15-8D92-AAFA28FD8616","D65F783D-87A9-4CC9-8110-E83466A0EADB","Subsplash","","F9603D30-8B17-4F72-B2C7-53FFBA2E3B21","fa fa-mobile"); // Site:Rock RMS
            RockMigrationHelper.AddBlock( "F9603D30-8B17-4F72-B2C7-53FFBA2E3B21", "", "CACB9D1A-A820-4587-986A-D66A69EE9948", "Page Menu", "Main", "", "", 0, "634B081F-B150-4F78-B1CA-20A3FF207E9E" );
            RockMigrationHelper.AddBlockAttributeValue( "634B081F-B150-4F78-B1CA-20A3FF207E9E", "EEE71DDE-C6BC-489B-BAA5-1753E322F183", @"False" ); // Include Current Parameters  
            RockMigrationHelper.AddBlockAttributeValue( "634B081F-B150-4F78-B1CA-20A3FF207E9E", "1322186A-862A-4CF1-B349-28ECB67229BA", @"{% include '~~/Assets/Lava/PageListAsBlocks.lava' %}" ); // Template  
            RockMigrationHelper.AddBlockAttributeValue( "634B081F-B150-4F78-B1CA-20A3FF207E9E", "6C952052-BC79-41BA-8B88-AB8EA3E99648", @"3" ); // Number of Levels  
            RockMigrationHelper.AddBlockAttributeValue( "634B081F-B150-4F78-B1CA-20A3FF207E9E", "E4CF237D-1D12-4C93-AFD7-78EB296C4B69", @"False" ); // Include Current QueryString  
            RockMigrationHelper.AddBlockAttributeValue( "634B081F-B150-4F78-B1CA-20A3FF207E9E", "C80209A8-D9E0-4877-A8E3-1F7DBF64D4C2", @"False" ); // Is Secondary Block  

            // Page: Content
            RockMigrationHelper.AddPage( true, "F9603D30-8B17-4F72-B2C7-53FFBA2E3B21", "D65F783D-87A9-4CC9-8110-E83466A0EADB", "Content", "", "80913876-1FBA-49C5-B426-2C4695B38365", "fa fa-quote-right" ); // Site:Rock RMS
            RockMigrationHelper.AddPage( true, "F9603D30-8B17-4F72-B2C7-53FFBA2E3B21", "D65F783D-87A9-4CC9-8110-E83466A0EADB", "Custom Web Services", "", "BE35CFF3-3A9A-42BC-9DE7-616FC618140B", "fa fa-exchange" ); // Site:Rock RMS
            RockMigrationHelper.AddPage( true, "F9603D30-8B17-4F72-B2C7-53FFBA2E3B21", "D65F783D-87A9-4CC9-8110-E83466A0EADB", "Push Notifications", "", "6D1E794A-0040-423E-9D49-8849B8039AD9", "" ); // Site:Rock RMS
            RockMigrationHelper.AddPage( true, "F9603D30-8B17-4F72-B2C7-53FFBA2E3B21", "D65F783D-87A9-4CC9-8110-E83466A0EADB", "Push Notification History", "", "D69B8663-E3B5-4962-8939-B869B27B5E90", "" ); // Site:Rock RMS
            RockMigrationHelper.UpdateBlockType( "Push Notification Entry", "Used for creating and sending a new push notifications to recipients or topics.", "~/Plugins/com_subsplash/Communication/PushNotification.ascx", "Subsplash > Communication", "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99" );
            RockMigrationHelper.UpdateBlockType( "Push Notification List", "Lists the status of all previously created communications.", "~/Plugins/com_subsplash/Communication/PushNotificationList.ascx", "Subsplash > Communication", "E8430BE2-6A1A-4CCA-BD20-C50517FE1094" );
            
            // Add Block to Page: Custom Web Services Site: Rock RMS              
            RockMigrationHelper.AddBlock( "BE35CFF3-3A9A-42BC-9DE7-616FC618140B","C2D29296-6A87-47A9-A753-EE4E9159C4C4","0AB2D5E9-9272-47D5-90E4-4AA838D2D3EE", "Defined Value List","Main",@"",@"",0,"C4472650-C681-420A-90C6-B31B97F38907");   
            // Attrib for BlockType: Push Notification Entry:Enabled Lava Commands              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99", "4BD9088F-5CC6-89B1-45FC-A2AAFFC7CC0D", "Enabled Lava Commands", "EnabledLavaCommands", "Enabled Lava Commands", @"The Lava commands that should be enabled for communcations.", 0, @"", "340DC1CA-51E8-423C-BB0D-72B069FE2588" );  
            // Attrib for BlockType: Push Notification Entry:Transport              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99", "A7486B0E-4CA2-4E00-A987-5544C7DABA76", "Transport", "Transport", "Transport", @"The Subsplash transport that should be used.", 1, @"", "1D6AECA3-B983-49C8-BD26-0BE207821BA9" );  
            // Attrib for BlockType: Push Notification Entry:Display Count              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99", "A75DFC58-7A1B-4799-BF31-451B2BBE38FF", "Display Count", "DisplayCount", "Display Count", @"The initial number of recipients to display prior to expanding list", 4, @"0", "825184EB-3947-4AA2-9399-B909264FD237" );  
            // Attrib for BlockType: Push Notification Entry:Default Template              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99", "C3B37465-DCAF-4C8C-930C-9A9B5D066CA9", "Default Template", "DefaultTemplate", "Default Template", @"The default template to use for a new communication.  (Note: This will only be used if the template is for the same medium as the communication.)", 2, @"", "A3D6E411-14CC-464C-8BE5-3C81A722D05D" );  
            // Attrib for BlockType: Push Notification Entry:Send When Approved              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "8747AE9B-B5F6-49E7-8726-E7E10A3D7D99", "1EDAFDED-DFE6-4334-B019-6EECBA89E05A", "Send When Approved", "SendWhenApproved", "Send When Approved", @"Should push notification be sent once it's approved (vs. just being queued for scheduled job to send)?", 5, @"True", "90EE2090-EFE8-465E-A368-8674FD7DE804" );  
            // Attrib for BlockType: Push Notification List:Transport              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "E8430BE2-6A1A-4CCA-BD20-C50517FE1094", "A7486B0E-4CA2-4E00-A987-5544C7DABA76", "Transport", "Transport", "Transport", @"The Subsplash transport that should be used.", 1, @"", "B3796A83-3E14-4BB1-AF33-F138567C84F8" );  
            // Attrib for BlockType: Push Notification List:Detail Page              
            RockMigrationHelper.AddOrUpdateBlockTypeAttribute( "E8430BE2-6A1A-4CCA-BD20-C50517FE1094", "BD53F9C9-EBA9-4D3F-82EA-DE5DD34A8108", "Detail Page", "DetailPage", "Detail Page", @"", 1, @"", "D99A6B17-F79F-4C92-949D-CFB724B581ED" );  
            // Attrib Value for Block:Defined Value List, Attribute:Defined Type Page: Custom Web Services, Site: Rock RMS              
            RockMigrationHelper.AddBlockAttributeValue("C4472650-C681-420A-90C6-B31B97F38907","9280D61F-C4F3-4A3E-A9BB-BCD67FF78637",@"3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1");  
            // Attrib Value for Block:Defined Value List, Attribute:core.CustomGridColumnsConfig Page: Custom Web Services, Site: Rock RMS              
            RockMigrationHelper.AddBlockAttributeValue("C4472650-C681-420A-90C6-B31B97F38907","87DAF7ED-AAF5-4D5C-8339-CB30B16CC9FF",@"{""ColumnsConfig"":[{""HeaderText"":""Security"",""HeaderClass"":"""",""ItemClass"":"""",""LavaTemplate"":""<a class=\""btn btn-security btn-sm\"" href=\""javascript: Rock.controls.modal.show($(this), '/Secure/31/{{Row.Id}}?t=Defined Value Security&pb=&sb=Done')\"">\n    <i class=\""fa fa-lock\""></i>\n</a>"",""PositionOffsetType"":1,""PositionOffset"":1}]}");  
            // Attrib Value for Block:Defined Value List, Attribute:core.CustomGridEnableStickyHeaders Page: Custom Web Services, Site: Rock RMS              
            RockMigrationHelper.AddBlockAttributeValue("C4472650-C681-420A-90C6-B31B97F38907","6DA1DD58-AFB0-4F74-B02A-BC411908F4C2",@"False");  
        }

        public override void Down()
        {
            RockMigrationHelper.DeleteAttribute( "3FEB82E4-8CFC-4AE7-A78D-3941CD708398" ); // Template	0
            RockMigrationHelper.DeleteAttribute( "990524DB-79CF-45B0-A264-DCD693640612" ); // Method	0
            RockMigrationHelper.DeleteAttribute( "AB5B436A-5953-4B38-8A91-1E08583EE96C" ); // ResponseContentType	0
            RockMigrationHelper.DeleteAttribute( "CB9DF27B-2F19-45EA-AA9E-30A490359AAB" ); // ResponseHeaders	0
            RockMigrationHelper.DeleteAttribute( "E04BD964-E89A-4EE1-A080-B6C34AFDF966" ); // EnabledLavaCommands	0
            RockMigrationHelper.DeleteDefinedValue( "0178CC28-B9B3-49A4-8731-6E4A9A7679B4" ); // /tvapp	1
            RockMigrationHelper.DeleteDefinedValue( "6DEFA30D-3354-4212-B56D-730C07F6A11E" ); // /sermons/{page}	1
            RockMigrationHelper.DeleteDefinedValue( "760A15FB-2FB2-41C1-A27E-58D74B265F07" ); // /tvapp/series/{series}	1
            RockMigrationHelper.DeleteDefinedValue( "76C44D8E-A016-416D-9E64-D049D92A3DE4" ); // /sermon/{id}	1
            RockMigrationHelper.DeleteDefinedValue( "B7C0007C-4CF9-431F-AA94-3B4157E1DA1A" ); // /tvapp/sermon/{id}	1
            RockMigrationHelper.DeleteDefinedValue( "B8DD4C25-219D-46B9-9197-D13A7C0CDD33" ); // /sermons/series/{series}	1
            RockMigrationHelper.DeleteDefinedValue( "D8D86584-E0E0-497C-BE61-B35DD5A590DA" ); // /tvapp/home/{Guid}	1
            RockMigrationHelper.DeleteDefinedValue( "E0B80372-62A8-44F9-AAB4-4DF4E7683338" ); // /list/{slug}	1
            RockMigrationHelper.DeleteDefinedType( "3D36C1CD-2B3B-41C4-80AB-BE22B9631DC1" ); // Subsplash Webhook	2
        }
    }
}
